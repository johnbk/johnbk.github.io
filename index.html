<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Johnbabu Koppolu</title>
        <meta name="viewport" content="width=device-width">

        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>
          <!-- Google Tag Manager -->
          <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-562LQK"
          height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
          <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-562LQK');</script>
          <!-- End Google Tag Manager -->

        <div class="site">
          <div class="header">
            <!-- <h1 class="title"><a href="/"></a></h1> -->
            <a class="extra" href="/">Home</a>
            <a class="extra" href="/archive">Archive</a>
            <a class="extra" href="/about">About</a>
          </div>

          <div id="home">
  
      <p class="meta post-date">24 Mar 2014</p>
      <h1 class="post-title">UntangledJS </h1>
      <div class="post">
          <p>Not a long time ago, for me the Java Script is for the uninitiated or for people who are not supposed to be programmers. Spoiled offspring of well groomed Java. Well, that opinion has changed forever and it didn&#39;t take a long time.</p>

<p>I belong to the Grady Booch army or the so called Java guy, the virtues of Object Orientation are forever crammed into my mind.  Whenever I hear about JavaScript all I could remember was the little hackish code I wrote to do some silly validations. And I never went back to it, never wanted to. And then there was AJAX, everyone&#39;s heartthrob, thought it was witchcraft and ignored it. Bliss.</p>

<p>But then something happened, few days after, all I was doing was scripting, using JavaScript, which you once considered is not even a &quot;Programming Language&quot;. <strong>Shi(F)t</strong> happens.</p>

<blockquote>
<p>Java is to JavaScript what Car is to Carpet.  - Chris Heilmann</p>
</blockquote>

<p>Sweet.</p>

<p>Except for the syntax, JavaScript has nothing to do with Java. The assumed silliness of JavaScript comes from considering it otherwise. Until you ask &quot;what the heck is happening?&quot;, things look so stupid. So tangled.</p>

<p>Variable Scoping is one of those.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">myFunction</span><span class="p">(){</span>
    <span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">myVar</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">myVar</span><span class="p">);</span> <span class="cm">/* alerts &#39;100&#39; */</span>
<span class="p">}</span></code></pre></figure>

<p>There is no block level scope in JavaScript, there is only a function scope. Hence the advise to declare all your variables once at the start of the function. The above piece of code is interpreted as -</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">myFunction</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">myVar</span><span class="p">;</span> <span class="cm">/* myVar is undefined at this point. */</span>
    <span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">){</span>
         <span class="nx">myVar</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">myVar</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>This kind of &#39;hoisting&#39; is applicable for function declarations as well.</p>

<p>Speaking of functions, Yes, there are no classes. And I would use the cliche - &#39;Function is a first class citizen in Java Script&#39;. What is meant by that is you can pass a function to another function as you would pass any other variable.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">yourFunction</span><span class="p">()</span> <span class="p">{</span>
   <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">myFunction</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">fn</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">myFunction</span><span class="p">(</span><span class="nx">yourFunction</span><span class="p">);</span></code></pre></figure>

<p>​</p>

<p>Isn&#39;t it poweful?</p>

<p>But what about objects? Can I &#39;encapsulate&#39; things and use? Yes you can.
First, there are object literals.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">one</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">two</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">three</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">obj1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">one</span> <span class="o">:</span> <span class="mi">1</span>
    <span class="nx">func1</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>
     <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">one</span><span class="p">);</span> <span class="c1">// Yes, &#39;this&#39; refers to THIS object.</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>And &quot;Wait for it&quot; you can create objects out of a function.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">printIn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">num</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">}</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">myFunction</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">printIn</span><span class="p">();</span></code></pre></figure>

<p>Function itself acts as a constructor in this case.</p>

<p>You can just access any of the properties like this -</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">obj1</span><span class="p">.</span><span class="nx">one</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">num</span></code></pre></figure>

<p>Or even like this -</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myOne</span> <span class="o">=</span> <span class="s2">&quot;one&quot;</span><span class="p">;</span>
<span class="nx">obj1</span><span class="p">[</span><span class="nx">myOne</span><span class="p">]</span>  <span class="c1">// cute :)</span></code></pre></figure>

<p>But wait a minute, there are no privates? is everything public?</p>

<p>But nothing is impossible with Java Script. You can have your privates too.
Enter <strong>closure</strong>.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">mySecretNum</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">print</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mySecretNum</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">};</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">myFunction</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span></code></pre></figure>

<p>The &#39;print&#39; function above forms a &#39;closure&#39; for &#39;mySecretNum&#39;, and it stays private.
This feature is powerful especially with &#39;Ajax&#39;. But that topic is for some other time.</p>

<p>And Oh, yeah, JavaScript is NOT strictly typed. You declare a variable and you can assigning anything to it. And if your declaration is not inside any function and if you forget to use &#39;var&#39;  in front of the variable name, that becomes a global variable. OOPS!</p>

<p>It is just amazing the kind of things you can do with what you thought was a little smelly scripting language.</p>

<p>But with great power comes greater responsibility, and if you are not responsible, you will soon end up with unmanageable spaghetti code like this.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">globalFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;mine!&quot;</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">yourFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                        <span class="k">if</span><span class="p">(</span><span class="nx">fn</span><span class="p">())</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;yours!!!&quot;</span><span class="p">);</span>
                    <span class="p">}</span>

                <span class="nx">yourFunction</span><span class="p">();</span>

            <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">someOtherFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">myFunction</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="kc">true</span>
                <span class="p">});</span>
            <span class="p">}</span>
        <span class="nx">someOtherFunction</span><span class="p">();</span>
    <span class="p">}</span>

<span class="nx">globalFunction</span><span class="p">();</span><span class="err">​</span></code></pre></figure>

<p>And that is a recipe for disaster. Something that makes one so averse to read, understand or use.</p>

<p>Untangle it.</p>

<p>There are tools to organize your code, much like you organize your Java code. Yes, modular code with all the goodness of OO is possible with JavaScript.</p>

<p>JavaScript ecosystem is flourishing.</p>

<p>First there was AJAX, then GMail happened, JQuery came along, Node was born. There were Firefox and Chrome.</p>

<p>Last few years have seen a spurt of Java Script libraries and frameworks. The days of finding work arounds for browser incompatibilities are gone, browser performance is not a problem any more. You can create cross platform mobile applications with just HTML and JavaScript, you can create desktop applications with Windows 8, heck! you can even do server side scripting. And AJAX is the thingy. HTML5 has arrived!</p>

<p>Ain&#39;t it worth giving a try?</p>

<p>Go, Do it.</p>

<p><em>(Note: This was a write-up I penned for a news letter of the organization I work for. Unfortunately the news letter never came out)</em></p>

      </div>
  
</div>


          <div class="footer">
            <div class="contact">
            </div>
          </div>
        </div>
    </body>
</html>
